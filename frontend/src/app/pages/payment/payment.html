<section class="container-navbar">
  <app-nav-bar></app-nav-bar>
  <div class="img-container">
    <p>iAcademIA</p>
    <img src="icons/logoBlancoAmarillo.png" alt="AcademIA Logo" class="logo"/>
  </div>
</section>

<section>
<aside class="aside-container-data bg-white rounded-3 border">
        <section class="mt-3">
            <form class="signup-form d-flex flex-column w-100">
                
                <div class="w-100 d-flex flex-column align-items-start mb-3">
                    <label class="form-label">
                        ¿Donde nos viste?
                    </label>
                    <select class="form-select w-50" required>
                        <option value="Selecciona">Selecciona</option>
                        <option value="1">Referido AsedUIS</option>
                        <option value="2">Facebook</option>
                        <option value="3">Instagram</option>
                        <option value="4">X</option>
                        <option value="5">Pautas comerciales</option>
                        <option value="6">Un amigo me conto</option>
                        <option value="7">Otro</option>
                    </select>
                </div>

                <div class="mb-3">
                    <h3 class="text-body">Informacion personal</h3>
                </div>

                <div class="d-flex w-100 justify-content-between mb-3">
                    <div class="form-group" style="width: 48%;">
                        <label class="form-label" for="name">Nombre</label>
                        <input class="form-control" type="text" id="name" name="name" placeholder="" required>
                    </div>

                    <div class="form-group" style="width: 48%;">
                        <label class="form-label" for="lastname">Apellido</label>
                        <input class="form-control" type="text" id="lastname" name="lastname" placeholder="" required>
                    </div>
                </div>

                <div class="form-group w-100 mb-3">
                    <label class="form-label" for="email">Correo</label>
                    <input class="form-control" type="email" id="email" name="email" placeholder="" required>
                </div>

                <div class="form-group w-100 mb-3">
                    <label class="form-label" for="phone">Telefono</label>
                    <div class="input-group">
                        <select class="form-select px-4"
                                style="width: 20%; font-size: 18px;"
                                type="text" 
                                id="phoneCode" 
                                name="phoneCode" 
                                required>
                            @for(country of countrysArray(); track country.id){
                                @if(country.name === "Colombia"){   
                                    <option [ngValue]="country" selected style="font-size: 18px;">{{country.emoji + " " + country.phoneCode}}</option>
                                }@else{
                                    <option [ngValue]="country" style="font-size: 18px;">{{country.emoji + ' ' + country.phoneCode}}</option>
                                }
                            }

                        </select>


                        <input class="form-control w-75" type="tel" id="phone" name="phone" placeholder="" required>
                    </div>
                </div>

                <div class="d-flex w-100 justify-content-between mb-3">
                    <div class="form-group" style="width: 48%;">
                        <label class="form-label" for="country">Pais</label>
                        <select 
                            class="form-select" 
                            type="text" 
                            id="country" 
                            name="country" 
                            required 
                            [(ngModel)]="currentCountry" 
                            >
                            <option [ngValue]="null">Selecciona</option>

                            @for(country of countrysArray(); track country.id){
                                <option [ngValue]="country">{{country.name}}</option>
                            }

                        </select>
                    </div>

                    <div class="form-group" style="width: 48%;">
                        <label class="form-label" for="nationality">Nacionalidad</label>
                        <input class="form-control no-clickable" type="text" id="nationality" name="nationality" [placeholder]="currentNationality()" required>
                    </div>
                </div>

                <div class="form-group w-100 mb-3">
                    <label class="form-label" for="id">Documento de identidad</label>
                    <div class="input-group d-flex">
                        <select class="form-select text-start w-50" type="number" id="id" name="id" required>
                            <option [ngValue]="null">Selecciona</option>

                            @for(docType of documentTypes(); track docType.id){
                                <option [ngValue]="docType">{{docType.type}}</option>
                            }
                        
                        </select>

                        <input class="form-control w-50" type="number" id="id" name="id" placeholder="" required>

                    </div>

                </div>

                <div class="my-3">
                    <h3 class="text-body">Informacion de facturacion</h3>
                </div>

                <div class="form-group w-100 mb-3">
                    <label class="form-label" for="address">Direccion</label>
                    <input class="form-control" type="text" id="address" name="address" placeholder="" required>
                </div>

                <div class="form-group w-100 mb-3">
                    <label class="form-label" for="residenceCountry">Pais de residencia</label>
                    <select 
                        class="form-select"
                        type="text" 
                        id="country" 
                        name="country" 
                        required 
                        [(ngModel)]="currentResidenceCountry"
                        (change)="getStatesService(currentResidenceCountryId() ?? null)"
                        >
                        <option [ngValue]="null">Selecciona</option>

                        @for(country of countrysArray(); track country.id){
                            <option [ngValue]="country">{{country.name}}</option>
                        }

                    </select>
                </div>

                <div class="d-flex w-100 justify-content-between mb-3">
                    <div class="form-group" style="width: 48%;">
                        <label class="form-label" for="department">Departamento</label>
                        <select 
                            class="form-select" 
                            type="text" 
                            id="department" 
                            name="department" 
                            required [(ngModel)]="currentResidenceState" 
                            (change)="getCitysService(currentResidenceStateId() ?? null)">
                            <option [ngValue]="null">Selecciona</option>
                            
                            @for(state of statesArray(); track state.id){
                                <option [ngValue]="state">{{state.name}}</option>
                            }
                        </select>
                    </div>

                    <div class="form-group" style="width: 48%;">
                        <label class="form-label" for="city">Ciudad</label>
                        
                        <select class="form-select" type="text" id="city" name="city" required [(ngModel)]="currentResidenceCity">
                            <option [ngValue]="null">Selecciona</option>
                            
                            @for(city of citiesArray(); track city.id){
                                <option [ngValue]="city">{{city.name}}</option>
                            }
                        </select>
                    </div>
                </div>

                <section class="mb-4">
                    <div class="d-grid w-100 gap-4" style="grid-template-columns: 1fr 1fr 1fr 1fr;">
                        
                        <button #paymentButton class="btn btn-paiment-type active-button-style" id="PSE" data-view="view-pse" (click)="showView('view-pse', $event)">
                            <img src="svg/PSE.svg" alt="Logo PSE" width="80" height="80">
                        </button>

                        <button #paymentButton class="btn btn-paiment-type px-3" id="cards" data-view="view-cards" (click)="showView('view-cards', $event)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 32 32"><path fill="currentColor" d="M2 9.5A4.5 4.5 0 0 1 6.5 5h19A4.5 4.5 0 0 1 30 9.5v13a4.5 4.5 0 0 1-4.5 4.5h-19A4.5 4.5 0 0 1 2 22.5v-13ZM6.5 7A2.5 2.5 0 0 0 4 9.5V11h24V9.5A2.5 2.5 0 0 0 25.5 7h-19ZM4 22.5A2.5 2.5 0 0 0 6.5 25h19a2.5 2.5 0 0 0 2.5-2.5V13H4v9.5ZM21 19h3a1 1 0 1 1 0 2h-3a1 1 0 1 1 0-2Z"/></svg>
                            <p class="DebitoCredito">Debito / Credito</p>
                        </button>

                        <button #paymentButton class="btn btn-paiment-type" id="daviplata" data-view="view-daviplata" (click)="showView('view-daviplata', $event)">
                            <img src="svg/daviplata.svg" alt="Logo Daviplata" width="80" height="80">
                        </button>

                        <button #paymentButton class="btn btn-paiment-type" id="Plus" data-view="view-plus" style="font-size: 40px;" (click)="showView('view-plus', $event)">+</button>
                    </div>
                </section>

                <section class="mt-1 border rounded-3 px-4 py-3">
                    <section #paymentView id="view-pse" class="payment-view active">
                        <h4 class="mb-3">Pagar con PSE</h4>

                        <div class="form-group mb-2">
                            <label class="form-label" for="department">Banco</label>
                            <select 
                                class="form-select" 
                                type="text" 
                                id="department" 
                                name="department" 
                                required [(ngModel)]="currentResidenceState" 
                                (change)="getCitysService(currentResidenceStateId() ?? null)">
                                <option [ngValue]="null">Selecciona tu banco...</option>
                                
                                @for(bank of banksArray(); track bank.id){
                                    <option [ngValue]="bank.id">{{bank.name}}</option>
                                }
                            </select>
                        </div>
                    </section>


                    <section #paymentView id="view-cards" class="payment-view">
                        <h4>Pagar con Tarjeta</h4>
                        <div class="form-group my-3">
                            <label class="form-label" for="cardNumber">Numero de tarjeta</label>
                            <div class="position-relative">
                                <input class="form-control" type="number" id="cardNumber" name="cardNumber" placeholder="0000 0000 0000 0000" required>   
                                <span class="position-absolute top-50 end-0 translate-middle">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 36 24"><path fill="#000000" d="M0 21.5V12h36v9.5a2.507 2.507 0 0 1-2.5 2.5H2.466a2.4 2.4 0 0 1-1.731-.734l-.001-.001a2.401 2.401 0 0 1-.735-1.731v-.036v.002zM10 18v2h6v-2zm-6 0v2h4v-2zM33.5 0A2.507 2.507 0 0 1 36 2.5V6H0V2.466A2.4 2.4 0 0 1 .734.735L.735.734a2.401 2.401 0 0 1 1.731-.735h.036H2.5z"/></svg>
                            </span>
                            </div>
                            
                        </div>

                        <div class="d-flex w-100 justify-content-between my-3">
                            <div class="form-group" style="width: 48%;">
                                <label class="form-label" for="cardExpDate">Fecha de Vencimiento</label>
                                <input class="form-control" type="text" id="cardExpDate" name="cardExpDate" placeholder="MM/AA" required>
                            </div>

                            <div class="form-group" style="width: 48%;">
                                <label class="form-label" for="cardCvv">CVV</label>
                                <input class="form-control" type="number" id="cardCvv" name="cardCvv" placeholder="Cod. de 3 o 4 digitos" required>
                            </div>
                        </div>

                        <div class="form-group my-3">
                            <label class="form-label" for="completeName">Nombre del titular</label>
                            <input class="form-control" type="text" id="completeName" name="completeName" placeholder="Introduce el nombre impreso en la tarjeta" required>
                        </div>

                        <section class="my-4">
                            <h5 class="option-title mb-2">OPCIONES DE PAGO EN CUOTAS</h5>
                            <div class="w-flex">
                                <div class="input-group w-100 d-flex">
                                    <div class="w-100 d-flex border rounded-top p-2">
                                        <input class="form-check-input mt-0 me-3" type="radio" id="dues" value="dues" aria-label="Radio button for following text input">

                                        <div class="w-100 d-flex justify-content-between">
                                            <p class="dues-text">
                                                Pago de contado
                                            </p>

                                            <p class="dues-text">
                                                1.339.618,00
                                            </p>
                                        </div>
                                    </div>

                                </div>

                                @for(numero of arrayForLoop; track numero){
                                    <div class="input-group w-100 d-flex" id="dues-{{ numero }}">
                                        <div class="w-100 d-flex border p-2">
                                            <input class="form-check-input mt-0 me-3" type="radio" id="dues-{{ numero }}-select" value="dues" aria-label="Radio button for following text input">

                                            <div class="w-100 d-flex justify-content-between">
                                                <p class="dues-text">
                                                    {{numero}} cuotas
                                                </p>

                                                <p class="dues-text">
                                                    1.339.618,00 / {{numero}} meses
                                                </p>
                                            </div>
                                        </div>

                                    </div>
                                }
                                <div class="input-group w-100 d-flex">
                                    <div class="w-100 d-flex border p-2 rounded-bottom">
                                        <input class="form-check-input mt-0 me-3" type="radio" id="dues" value="dues" aria-label="Radio button for following text input">

                                        <div class="w-100 d-flex justify-content-between">
                                            <p class="dues-text">
                                                12 cuotas
                                            </p>

                                            <p class="dues-text">
                                                1.339.618,00 / 12 meses
                                            </p>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </section>

                    </section>

                    <section #paymentView id="view-daviplata" class="payment-view">
                        <h4>Pagar con Daviplata</h4>
                        <p>Sigue las instrucciones en tu aplicación Daviplata.</p>
                    </section>
                    
                    <section #paymentView id="view-plus" class="payment-view">
                        <h4>Otras Opciones de Pago</h4>
                        <p>Aquí puedes integrar otros métodos o información adicional.</p>
                    </section>

                </section>

                <div class="w-100 my-4">
                    <button class="btn btn-primary signup-button">Enviar</button>
                </div>

            </form>
        </section>

    </aside>

  <aside>
    
  </aside>
</section>